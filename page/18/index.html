<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Wu Hao's Blog</title><meta name="author" content="Wu Hao,303459939@qq.com"><meta name="copyright" content="Wu Hao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta property="og:type" content="website">
<meta property="og:title" content="Wu Hao&#39;s Blog">
<meta property="og:url" content="http://example.com/page/18/index.html">
<meta property="og:site_name" content="Wu Hao&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/touxiang.jpg">
<meta property="article:author" content="Wu Hao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/touxiang.jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="http://example.com/page/18/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Wu Hao","link":"链接: ","source":"来源: Wu Hao's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: true,
  isSidebar: false,
  postUpdate: '2020-11-26 23:48:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {
  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }

  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }
})()</script><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 5.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/touxiang.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">197</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">188</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">14</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div></div></div></div><div id="body-wrap"><div id="web_bg"></div><header class="full_page" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/83968b7d177c636fbd78242efe45f275.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Wu Hao's Blog</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">Wu Hao's Blog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:303459939@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout_page" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/30/ES6-FetchAPI/" title="Fetch API">     <img class="post_bg" src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=686308390,1656033937&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Fetch API"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/30/ES6-FetchAPI/" title="Fetch API">Fetch API</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-30T09:38:25.000Z" title="发表于 2020-09-30 17:38:25">2020-09-30</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-17T12:22:55.142Z" title="更新于 2020-11-17 20:22:55">2020-11-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/ES6/">ES6</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/Fetch-API/">Fetch API</a></span></div><div class="content">一、Fetch Api 概述1.1 XMLHttpRequest的问题
所有的功能全部集中在同一个对象上，容易书写出混乱不易维护的代码

采用传统的事件驱动模式，无法适配新的 Promise Api


1.2 Fetch Api 的特点
并非取代 AJAX，而是对 AJAX 传统 API 的改进

精细的功能分割：头部信息、请求信息、响应信息等均分布到不同的对象，更利于处理各种复杂的 AJAX 场景

使用 Promise Api，更利于异步代码的书写

Fetch Api 并非 ES6 的内容，属于 HTML5 新增的 Web Api


二、基本使用
请求测试地址：http://101.132.72.36:5100/api/local

使用 fetch 函数即可立即向服务器发送网络请求
2.1 参数(两个参数)
必填，字符串，请求地址

选填，对象，请求配置


2.2 请求配置对象
method：字符串，请求方法，默认值GET

headers：对象，请求头信息

body: 请求体的内容，必须匹配请求头中的 Content-Type

mode：字符串，请求模式



co ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/09/30/ES6-async%20and%20await/" title="async and await">     <img class="post_bg" src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=686308390,1656033937&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="async and await"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/30/ES6-async%20and%20await/" title="async and await">async and await</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-30T09:32:12.000Z" title="发表于 2020-09-30 17:32:12">2020-09-30</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-17T12:28:49.039Z" title="更新于 2020-11-17 20:28:49">2020-11-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/ES6/">ES6</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/Promise/">Promise</a></span></div><div class="content">一、async和await
async 和 await 是 ES2016 新增两个关键字，它们借鉴了 ES2015 中生成器在实际开发中的应用，目的是简化 Promise api 的使用，并非是替代 Promise。

1.1 async
目的是简化在函数的返回值中对Promise的创建


async 用于修饰函数（无论是函数字面量还是函数表达式），放置在函数最开始的位置，被修饰函数的返回结果一定是 Promise 对象。

async function test()&#123;    console.log(1);    return 2;&#125;//等效于function test()&#123;    return new Promise((resolve, reject)=&gt;&#123;        console.log(1);        resolve(2);    &#125;)&#125;

1.2 await
await关键字必须出现在async函数中！！！！

await用在某个表达式之前，如果表达式是一个Promise，则得到的是thenable ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/30/ES6-Promise/" title="Promise">     <img class="post_bg" src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=686308390,1656033937&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Promise"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/30/ES6-Promise/" title="Promise">Promise</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-30T09:19:11.000Z" title="发表于 2020-09-30 17:19:11">2020-09-30</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-17T12:26:43.972Z" title="更新于 2020-11-17 20:26:43">2020-11-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/ES6/">ES6</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/Promise/">Promise</a></span></div><div class="content">一、Promise基本使用
语法

const pro = new Promise((resolve, reject)=&gt;&#123;    // 未决阶段的处理    // 通过调用resolve函数将Promise推向已决阶段的resolved状态    // 通过调用reject函数将Promise推向已决阶段的rejected状态    // resolve和reject均可以传递最多一个参数，表示推向状态的数据&#125;)pro.then(data=&gt;&#123;    //这是thenable函数，如果当前的Promise已经是resolved状态，该函数会立即执行    //如果当前是未决阶段，则会加入到作业队列，等待到达resolved状态后执行    //data为状态数据&#125;, err=&gt;&#123;    //这是catchable函数，如果当前的Promise已经是rejected状态，该函数会立即执行    //如果当前是未决阶段，则会加入到作业队列，等待到达rejected状态后执行    //err为状态数据&#125;)


 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/09/29/ES6-%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86%E9%80%9A%E7%94%A8%E6%A8%A1%E5%9E%8B/" title="异步处理通用模型">     <img class="post_bg" src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=686308390,1656033937&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="异步处理通用模型"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/29/ES6-%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86%E9%80%9A%E7%94%A8%E6%A8%A1%E5%9E%8B/" title="异步处理通用模型">异步处理通用模型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-28T18:21:39.000Z" title="发表于 2020-09-29 02:21:39">2020-09-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-17T12:24:02.182Z" title="更新于 2020-11-17 20:24:02">2020-11-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/ES6/">ES6</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86%E6%A8%A1%E5%9E%8B/">异步处理模型</a></span></div><div class="content">一、已决阶段与未决阶段
事情总是从未决阶段逐步发展到已决阶段的。并且，未决阶段拥有控制何时通向已决阶段的能力。


ES6将某一件可能发生异步操作的事情，分为两个阶段：unsettled 和 settled


unsettled： 未决阶段，表示事情还在进行前期的处理，并没有发生通向结果的那件事

settled：已决阶段，事情已经有了一个结果，不管这个结果是好是坏，整件事情无法逆转



以点击事件为例，未决阶段：监听窗口中的某个元素是否被点击，已决阶段：按钮已经被点击了


二、ES6将事情划分为三种状态
pending、resolved、rejected


pending: 挂起，处于未决阶段，则表示这件事情还在挂起（最终的结果还没出来）

resolved：已处理，已决阶段的一种状态，表示整件事情已经出现结果，并是一个可以按照正常逻辑进行下去的结果

rejected：已拒绝，已决阶段的一种状态，表示整件事情已经出现结果，并是一个无法按照正常逻辑进行下去的结果，通常用于表示有一个错误



三、将未觉阶段推向已决阶段的两个过程
既然未决阶段有权力决定事情的走向，因此，未决阶 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/29/ES6-%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/" title="事件循环">     <img class="post_bg" src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=686308390,1656033937&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="事件循环"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/29/ES6-%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/" title="事件循环">事件循环</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-28T17:24:44.000Z" title="发表于 2020-09-29 01:24:44">2020-09-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-17T12:29:12.800Z" title="更新于 2020-11-17 20:29:12">2020-11-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/ES6/">ES6</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/Event-Loop/">Event Loop</a></span></div><div class="content">一、执行栈
一个数据结构，用于存放各种函数的执行期上下文，函数调用时，创建执行期上下文，加入到执行栈，函数执行完毕，执行期上下文销毁。

JS引擎永远执行的是执行栈的最顶部。


二、异步函数
事件循环中web API 宿主环境拿的是异步函数，比如setTimeOut的回调函数，setTimeOut自身的执行期上下文在执行栈中


某些函数不会立即执行，需要等到某个时机到达之后才能执行，这样的函数是异步函数，比如事件处理函数。

异步函数的执行机制会被宿主环境控制(浏览器宿主环境的五个线程)

异步函数一定到达事件队列并等到执行栈清空之后再执行，同步函数直接在执行栈执行不会放到队列中


三、浏览器宿主环境的五个线程
宿主环境：JS运行环境称之为宿主环境


JS引擎：负责执行执行栈的最顶部代码

GUI线程：负责渲染页面 

事件监听线程：负责监听各种事件

计时线程：负责计时

网络线程：负责网络通信


四、事件队列
当JS引擎发现执行栈内没有任何内容之后，会将事件队列中(先微队列，后宏队列)的第一个函数加入到执行栈中执行


宏任务队列：计时器结束的回调、事件回调、http回调 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/09/29/HTML5-%E6%8B%96%E6%8B%BD%E4%BA%8B%E4%BB%B6/" title="H5拖拽事件">     <img class="post_bg" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1605510400298&amp;di=6687976274b1d76a993713c2b146f8fe&amp;imgtype=0&amp;src=http%3A%2F%2Fimage.woshipm.com%2Fwp-files%2F2015%2F01%2Ff02680761dc73dbcb57a2c143c3d11f5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="H5拖拽事件"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/29/HTML5-%E6%8B%96%E6%8B%BD%E4%BA%8B%E4%BB%B6/" title="H5拖拽事件">H5拖拽事件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-28T16:22:49.000Z" title="发表于 2020-09-29 00:22:49">2020-09-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-16T04:19:06.888Z" title="更新于 2020-11-16 12:19:06">2020-11-16</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/HTML5/">HTML5</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/H5%E6%8B%96%E6%8B%BD/">H5拖拽</a></span></div><div class="content">一、被拖拽物体
ondragstart：开始事件


鼠标移动前一刻触发


ondrag：移动事件


鼠标移动瞬间触发，一直移动一直触发


ondragend：结束事件


鼠标抬起瞬间触发

二、目标区域
ondragenter：进入事件


鼠标进入瞬间触发（注意：非被拖拽物体）


ondragover：移动事件


鼠标进入目标区域瞬间触发，一直移动一直触发


ondragleave：离开事件

ondrop：放下事件



在目标区域鼠标松开时触发

三、注意事项
所有支持拖拽的HTML标签，拖拽结束之后都会默认回到原处

鼠标抬起时同时触发ondragover、ondrop事件，并且先执行ondragover，后执行ondrop，但是ondragover会触发默认事件回到原处，所以如果想要触发ondrag，必须先阻止ondragover的默认事件


</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/28/%E7%BD%91%E7%BB%9C-HTTP%E7%8A%B6%E6%80%81%E7%A0%81/" title="HTTP状态码">     <img class="post_bg" src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2506692613,2009217533&amp;fm=26&amp;gp=0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTTP状态码"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/28/%E7%BD%91%E7%BB%9C-HTTP%E7%8A%B6%E6%80%81%E7%A0%81/" title="HTTP状态码">HTTP状态码</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-28T15:46:18.000Z" title="发表于 2020-09-28 23:46:18">2020-09-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-17T12:46:49.486Z" title="更新于 2020-11-17 20:46:49">2020-11-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E7%8A%B6%E6%80%81%E7%A0%81/">状态码</a></span></div><div class="content">一、状态码分类表
二、各类常见状态码2xx（3种）
200 OK：表示从客户端发送给服务器的请求被正常处理并返回；

204 No Content：表示客户端发送给客户端的请求得到了成功处理，但在返回的响应报文中不含实体的主体部分（没有资源可以返回）；

206 Patial Content：表示客户端进行了范围请求，并且服务器成功执行了这部分的GET请求，响应报文中包含由Content-Range指定范围的实体内容。


3xx（5种）
301 Moved Permanently：永久性重定向，表示请求的资源被分配了新的URL，之后应使用更改的URL；

302 Found：临时性重定向，表示请求的资源被分配了新的URL，希望本次访问使用新的URL；



301与302的区别：前者是永久移动，后者是临时移动（之后可能还会更改URL）


303 See Other：表示请求的资源被分配了新的URL，应使用GET方法定向获取请求的资源；


302与303的区别：后者明确表示客户端应当采用GET方式获取资源


304 Not Modified：表示客户端发送附带条件（是指采用GET ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/09/28/%E6%A8%A1%E5%9D%97%E5%8C%96-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%A4%E5%A4%A7%E9%9A%BE%E9%A2%98/" title="浏览器模块化两大难题">     <img class="post_bg" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1601356333196&amp;di=19dd47a576c76117010866c4f9516a94&amp;imgtype=0&amp;src=http%3A%2F%2Fwww.precisionpointtraining.com%2Fwp-content%2Fuploads%2F2014%2F02%2FFotolia_84899215_Subscription_Monthly_M.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="浏览器模块化两大难题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/28/%E6%A8%A1%E5%9D%97%E5%8C%96-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%A4%E5%A4%A7%E9%9A%BE%E9%A2%98/" title="浏览器模块化两大难题">浏览器模块化两大难题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-28T05:23:02.000Z" title="发表于 2020-09-28 13:23:02">2020-09-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-17T12:49:50.929Z" title="更新于 2020-11-17 20:49:50">2020-11-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%A8%A1%E5%9D%97%E5%8C%96/">模块化</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%A4%E5%A4%A7%E9%9A%BE%E9%A2%98/">前端模块化两大难题</a></span></div><div class="content">一、浏览器实现模块化的两个难题(针对CommonJS)1. 效率问题：浏览器要从服务器加载js，网络传输的效率远远低于node环境读取本地文件的效率，并且CommonJS是同步的，这会极大的降低运行性能
2. 浏览器厂商不支持：CommonJS非官方标准，浏览器无法为模块化提供函数环境，这样模块中的全局代码会污染全局变量
二、解决办法1. 远程加载浪费时间？

实现异步加载，加载完成之后调用一个回调函数或Promise

2. CommonJS模块中的代码需要放到函数中执行？

可以手动的将模块放入到函数环境中，避免全局变量的污染

</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/28/%E6%A8%A1%E5%9D%97%E5%8C%96-ES6%E6%A8%A1%E5%9D%97%E5%8C%96/" title="ES6模块化">     <img class="post_bg" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1602780481214&amp;di=5cf159ef0b3cb7c40fb0cd0191f6015a&amp;imgtype=0&amp;src=http%3A%2F%2Fi1.id-china.com.cn%2Fcase%2F2008%2F05%2F23%2F39604_20080523231726537000.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ES6模块化"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/28/%E6%A8%A1%E5%9D%97%E5%8C%96-ES6%E6%A8%A1%E5%9D%97%E5%8C%96/" title="ES6模块化">ES6模块化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-28T05:11:04.000Z" title="发表于 2020-09-28 13:11:04">2020-09-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-17T12:27:50.793Z" title="更新于 2020-11-17 20:27:50">2020-11-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%A8%A1%E5%9D%97%E5%8C%96/">模块化</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/ES6%E6%A8%A1%E5%9D%97%E5%8C%96/">ES6模块化</a></span></div><div class="content">
引入入口文件：&lt;script src=&quot;入口文件&quot; type=&quot;module&quot;&gt;&lt;/script&gt;，此处非模块化标准


导入的路径文件不需要加后缀，如import MyComponent from &quot;./Components/MyComponent&quot;

一、ES6模块化特点1. 依赖预声明(CommonJS依赖延迟声明)

优点：在一开始可以确定模块依赖关系
缺点：某些时候效率较低

3. 灵活的多种导入导出方式(参照CommonJS)
2. 规范路径表示法：路径必须以./或../开头
二、基本导入导出1. 基本导出
export 声明表达式

export &#123;具名符号(声明值)&#125;

2. 基本导入

ES6使用的是依赖预声明，因此导入代码必须放在所有代码之前，即使你没将它放到最前面，浏览器也会自动的将他提到所有代码之前

import &#123;导入的符号列表&#125; from &#x27;模块路径&#x27;

3. 基本导入细节

as：对导入符号重命名
*：导入所有 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/09/27/ES5-hash%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D/" title="hash方法实现数组去重">     <img class="post_bg" src="https://image.slidesharecdn.com/sayhellotoecmascript5-100408172906-phpapp01/95/say-hello-to-ecmascript-5-1-728.jpg?cb=1270887557" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hash方法实现数组去重"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/27/ES5-hash%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D/" title="hash方法实现数组去重">hash方法实现数组去重</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-27T15:09:25.000Z" title="发表于 2020-09-27 23:09:25">2020-09-27</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-15T01:11:52.017Z" title="更新于 2020-11-15 09:11:52">2020-11-15</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/ES5/">ES5</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D/">数组去重</a></span></div><div class="content">数组去重Array.prototype.unique = function () &#123;    var temp = &#123;&#125;;    var arr = [];    for (var i = 0; i &lt; this.length; i++) &#123;        if(!temp[this[i]])&#123;            temp[this[i]]=&quot;abc&quot;;            arr.push(this[i]);        &#125;    &#125;    return arr;&#125;


应该将函数写在数组原型链终端上，这样任何数组都可以直接使用

temp[this[i]]=&quot;abc&quot;;，temp[this[i]]不能赋值为i，因为当i为0时，与a[0]相同的值仍然能够进入if内部


</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/17/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><span class="page-number current">18</span><a class="page-number" href="/page/19/">19</a><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/19/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Wu Hao</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length_num">197</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length_num">188</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length_num">14</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/wuhao0509"><i class="fab fa-github"></i><span>Github主页</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:303459939@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="sticky_layout"><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/CSS2/"><span class="card-category-list-name">CSS2</span><span class="card-category-list-count">24</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ES5/"><span class="card-category-list-name">ES5</span><span class="card-category-list-count">48</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ES6/"><span class="card-category-list-name">ES6</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/HTML4/"><span class="card-category-list-name">HTML4</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/HTML5/"><span class="card-category-list-name">HTML5</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/React/"><span class="card-category-list-name">React</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Vue/"><span class="card-category-list-name">Vue</span><span class="card-category-list-count">17</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/node/"><span class="card-category-list-name">node</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><span class="card-category-list-name">微信小程序</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="card-category-list-name">数据结构</span><span class="card-category-list-count">29</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%9C%AC%E5%9C%B0%E5%8C%96%E5%AD%98%E5%82%A8/"><span class="card-category-list-name">本地化存储</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%A8%A1%E5%9D%97%E5%8C%96/"><span class="card-category-list-name">模块化</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/"><span class="card-category-list-name">网络</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%A1%B9%E7%9B%AE%E6%8A%A5%E5%91%8A/"><span class="card-category-list-name">项目报告</span><span class="card-category-list-count">5</span></a></li>
            
            </ul></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/11/"><span class="card-archive-list-date">十一月 2020</span><span class="card-archive-list-count">115</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">55</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/09/"><span class="card-archive-list-date">九月 2020</span><span class="card-archive-list-count">27</span></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">197</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2020-11-26T15:48:35.217Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 By Wu Hao</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://jerryc.me/">blog</a>!</div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "Never put off till tomorrow what you can do today".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = 'N'
  }
}

if (true) {
  if (typeof Typed === 'function') subtitleType()
  else $.getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js', subtitleType)
} else {
  subtitleType()
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>